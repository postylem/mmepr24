var jsPsychSurveySlider=function(e){"use strict";function t(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function r(e,r){for(var s=0;s<r.length;s++){var i=r[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,t(i.key),i)}}var s={name:"survey-slider",parameters:{questions:{type:e.ParameterType.COMPLEX,array:!0,pretty_name:"Questions",default:void 0,nested:{stimulus:{type:e.ParameterType.HTML_STRING,pretty_name:"Stimulus",default:""},prompt:{type:e.ParameterType.STRING,pretty_name:"Prompt",default:void 0,description:"Content to be displayed below the stimulus and above the slider"},labels:{type:e.ParameterType.STRING,pretty_name:"Labels",default:[],array:!0,description:"Labels of the sliders."},ticks:{type:e.ParameterType.HTML_STRING,pretty_name:"Ticks",default:[],array:!0,description:"Ticks of the sliders."},name:{type:e.ParameterType.STRING,pretty_name:"Question Name",default:"",description:"Controls the name of data values associated with this question"},min:{type:e.ParameterType.INT,pretty_name:"Min slider",default:0,description:"Sets the minimum value of the slider."},max:{type:e.ParameterType.INT,pretty_name:"Max slider",default:100,description:"Sets the maximum value of the slider"},slider_start:{type:e.ParameterType.INT,pretty_name:"Slider starting value",default:50,description:"Sets the starting value of the slider"},step:{type:e.ParameterType.INT,pretty_name:"Step",default:1,description:"Sets the step of the slider"}}},randomize_question_order:{type:e.ParameterType.BOOL,pretty_name:"Randomize Question Order",default:!1,description:"If true, the order of the questions will be randomized"},preamble:{type:e.ParameterType.HTML_STRING,pretty_name:"Preamble",default:null,description:"String to display at top of the page."},button_label:{type:e.ParameterType.STRING,pretty_name:"Button label",default:"Continue",description:"Label of the button."},autocomplete:{type:e.ParameterType.BOOL,pretty_name:"Allow autocomplete",default:!1,description:"Setting this to true will enable browser auto-complete or auto-fill for the form."},require_movement:{type:e.ParameterType.BOOL,pretty_name:"Require movement",default:!1,description:"If true, the participant will have to move the slider before continuing."},slider_width:{type:e.ParameterType.INT,pretty_name:"Slider width",default:500,description:"Width of the slider in pixels."}}},i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsPsych=t}var t,s,i;return t=e,(s=[{key:"trial",value:function(e,t){for(var r=this,s=0;s<t.questions.length;s++)void 0===t.questions[s].value&&(t.questions[s].value="");var i='<div id="jspsych-html-slider-response-wrapper" style="margin: 100px 0px;">';i+='<div class="jspsych-html-slider-response-container" style="position:relative; margin: 0 auto 3em auto; ',null!==t.slider_width?i+="width:"+t.slider_width+"px;":i+="width:auto;",i+='">',null!==t.preamble&&(i+='<div style="position: relative; width:100%" id="jspsych-survey-slider-preamble" class="jspsych-survey-slider-preamble">'+t.preamble+"</div><br>"),t.autocomplete?i+='<form id="jspsych-survey-slider-form">':i+='<form id="jspsych-survey-slider-form" autocomplete="off">';var a=[];for(s=0;s<t.questions.length;s++)a.push(s);for(t.randomize_question_order&&(a=this.jsPsych.randomization.shuffle(a)),s=0;s<t.questions.length;s++){var n=t.questions[a[s]];i+='<div id="jspsych-html-slider-response-stimulus">'+n.stimulus+"</div>",i+='<label class="jspsych-survey-slider-statement">'+n.prompt+"</label><br>",n.labels.length>0&&(i+='<div style="font-size: 100%; font-weight: bold; position: absolute; left: calc(-15%)">'+n.labels[0]+"</div>"),i+='<input style="width: 100%" type="range" class="jspsych-slider" value="'+n.slider_start+'" min="'+n.min+'" max="'+n.max+'" step="'+n.step+'" id="jspsych-html-slider-response-response-'+s+'" name="Q'+s+'" data-name="'+n.name+'"></input><br>',n.labels.length>0&&(i+='<div style="font-size: 100%; font-weight: bold; position: absolute; left: calc(-15%)">'+n.labels[1]+"</div>");for(var l=0;l<n.ticks.length;l++){var o=100/(n.ticks.length-1),d=l*(100/(n.ticks.length-1));i+='<div style="border: 1px solid transparent; position: absolute; left:calc('+d+"% - ("+o+"% / 2) - "+(d-50)/50*100*7.5/100+"px); text-align: center; width: "+o+'%;">',i+='<span style="text-align: center; font-size: 100%;">'+n.ticks[l]+"</span>",i+="</div>"}i+="<br/><br/>"}if(i+="<br/>",i+='<input type="submit" id="jspsych-survey-slider-next" class="jspsych-survey-slider jspsych-btn" value="'+t.button_label+'"></input>',i+="</form>",i+="</div>",i+="</div>",e.innerHTML=i,t.require_movement){var p=function(){for(var e=document.querySelectorAll(".jspsych-slider"),t=!0,r=0;r<e.length;r++)if(!e[r].classList.contains("clicked")){t=!1;break}t&&(document.getElementById("jspsych-survey-slider-next").disabled=!1)};document.getElementById("jspsych-survey-slider-next").disabled=!0,document.querySelectorAll(".jspsych-slider").forEach((function(e){e.addEventListener("click",(function(){e.classList.add("clicked"),p()})),e.addEventListener("change",(function(){e.classList.add("clicked"),p()}))}))}e.querySelector("#jspsych-survey-slider-form").addEventListener("submit",(function(t){t.preventDefault();for(var s=performance.now()-u,i={},n=e.querySelectorAll('input[type="range"]'),l=0;l<n.length;l++){var o=document.querySelector("#jspsych-html-slider-response-response-"+l),d=o.name,p=o.value,m={};if(""!==n[l].attributes["data-name"].value)var y=n[l].attributes["data-name"].value;else y=d;m[y]=p,Object.assign(i,m)}var c={rt:s,response:JSON.stringify(i),question_order:JSON.stringify(a)};e.innerHTML="",r.jsPsych.finishTrial(c)}));var u=performance.now()}}])&&r(t.prototype,s),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();return i.info=s,i}(jsPsychModule);
//# sourceMappingURL=https://unpkg.com/@jspsych-contrib/plugin-survey-slider@1.0.0/dist/index.browser.min.js.map
